{
    "contents" : "h = 0.82                              # steepness of BC the central coast herring fishery\nB0 = 60000                            # tons in central coast in 2013/14\nS0 = B0 * 1000/mean(LVBweight(3:10))  # convert B0 to mean number of fish\nE0 = S0 * fecundity_age(9)            # eggs at 6 years old (scaled in millions)\nR0 = 5e+08                            # in millions\nalpha <- (E0 * (1 - h))/(4 * h * R0)\nbeta <- (5 * h - 1)/(4 * h * R0)\n\nsim_eggs <- sort(c(seq(from = 1, to = E0*1.02, length.out = 1000),E0/5,E0))   # project \nR <- BH(sim_eggs, alpha=alpha,beta= beta)\ndf1 <- data.frame(list(Recruits=R/1e6,Eggs=sim_eggs/1e12))\ndf2 <- subset(df1,Eggs%in%(c(E0/5,E0)/1e12))\n\nggplot(aes(Eggs,Recruits),data= df1)+\n  geom_line()+\n  theme_bw()+\n  ylab(\"Recruits (Millions)\")+\n  xlab(\"Eggs (Trillions)\")+\n  geom_vline(aes(xintercept = Eggs),data= df2,linetype= \"dotted\")+\n  geom_hline(aes(yintercept = Recruits),data= df2,linetype= \"dotted\")+\n  geom_text(aes(x=Eggs+(E0/1e12)*.02, y= 1/beta/1e6*.25,label = c(\"20% E0\", \"E0\")),data= df2,hjust= 0,vjust= -1,angle=90)+\n  geom_line(yintercept= 1/beta/1e6)+\n  geom_errorbar(aes(x=E0/1e12,ymax=max(Recruits),ymin= min(Recruits)),data= subset(df1,Eggs%in%(c(E0/5,E0)/1e12)),colour= \"red\")+\n  geom_errorbar(aes(x=E0/1e12,ymax=min(Recruits),ymin= 0),data= subset(df1,Eggs%in%(c(E0/5,E0)/1e12)),colour= \"blue\")+\n  geom_text(x= E0/1e12*.7,y= 1/beta/1e6*.2,label= \"h (steepness)= blue/(red+blue)\",data= df1[1,])+\n  scale_x_continuous(limits=c(0,E0/1e12*1.02),expand= c(0,0))+\n  scale_y_continuous(limits=c(0,1/beta/1e6*1.02),expand= c(0,0))\n\n",
    "created" : 1424899381333.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "989484524",
    "id" : "E28059CB",
    "lastKnownWriteTime" : 1424902005,
    "path" : "~/Copy/Post-Doc/Rmetapop/Rmetapop/inst/examples/BH_example.R",
    "project_path" : "Rmetapop/inst/examples/BH_example.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}